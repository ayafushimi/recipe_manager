<h1>
  Recipes
  <div class="recipe-editor">
    <% if logged_in? %>
      <%= link_to "Add new recipe", new_recipe_path, class: "btn btn-sm btn-primary" %>
    <% end %>
  </div>
</h1>

<div class="search-area panel panel-default">
  <div class="panel-heading">Search recipes</div>
  <div class="panel-body">
    <%= form_for(@search, url: search_path, method: "GET") do |f| %>
      <div class="form-group">
        <%= f.label(:order_by) %>
        <%= f.select(:order_by, options_for_select([["Rate", "rate"], ["Time", "time"]]), {prompt: 'Select'}) %>
      </div>
      <div class="checkbox">
        <%= f.check_box(:has_report) %>
        <%= f.label(:has_report, "Only with report") %>
      </div>
      <div class="form-group">
        <%= f.label(:rate_over) %>
        <%= f.number_field(:rate_over, in: 1...6) %>
      </div>
      <div class="form-group">
        <%= f.label(:rate_under) %>
        <%= f.number_field(:rate_under, in: 1...6) %>
      </div>
      <div class="form-group">
        <%= f.label(:time_over) %>
        <%= f.number_field(:time_over) %>
      </div>
      <div class="form-group">
        <%= f.label(:time_under) %>
        <%= f.number_field(:time_under) %>
      </div>
      <div class="form-group">
        <%= f.label(:by_creator) %>
        <%= f.select(:by_creator, User.only_creator.collect {|u| [ u.username, u.id ] }, {prompt: 'Select Creator'}) %>
      </div>
      <div class="form-group">
        <%= f.label(:by_ingredient) %>
        <%= f.select(:by_ingredient, Ingredient.has_recipe.collect {|i| [ i.title, i.id ] }, {prompt: 'Select Ingredient'}) %>
      </div>
      <div class="form-group">
        <%= f.label(:has_report_by) %>
        <%= f.select(:has_report_by, User.has_report.collect {|u| [ u.username, u.id ] }, {prompt: 'Select User'}) %>
      </div>
      <%= f.submit("Search", class: "btn btn-primary") %>
      <%= link_to "Clear", root_path, class: "btn btn-sm btn-default" %>
    <% end %>
  </div>
</div>

<div class="recipes">
  <ul>
    <%= render partial: "shared/recipes", collection: @recipes, as: :recipe %>
    <%= render partial: "shared/recipes", collection: @no_repo, as: :recipe if @no_repo %>
  </ul>
</div>
